<div class="co-p-node">
  <tec-nav-title title="{{nodeName}}" obj="node" kind="'node'" detail="true">
    <a ng-href="nodes" class="co-m-primary-action">
      <co-svg class="co-img-icon co-img-icon-light" src="coreos.svg/icon-back.svg"></co-svg>Back to Nodes
    </a>
  </tec-nav-title>

  <div class="co-m-pane co-m-vert-nav">
    <co-node-nav name="nodeName"></co-node-nav>

    <div class="co-m-vert-nav__body">
      <div cos-tristate="node" cos-tristate-error="loadError" class="co-m-pane__body">
        <div class="row" ng-if="node && !loadError">
          <div class="col-xs-12">
            <h1 class="co-section-title">Node Overview</h1>
          </div>

          <div class="col-xs-12">
            <div class="co-sparkline-wrapper">
              <div class="row no-gutter">
                <div class="col-md-4">
                  <co-sparkline-widget heading="'RAM'" query="'node_memory_Active{instance=~\'.*__NODEIP__.*\'}' | queryNodeIp:this" limit="memoryLimit" units="'binaryBytes'"></co-sparkline-widget>
                </div>
                <div class="col-md-4">
                  <co-sparkline-widget heading="'CPU'" query="'instance:node_cpu:rate:sum{instance=~\'.*__NODEIP__.*\'}' | queryNodeIp:this" units="'numeric'" limit="node.status.allocatable.cpu | integerLimit"></co-sparkline-widget>
                </div>
                <div class="col-md-4">
                  <co-sparkline-widget heading="'Number of Pods'" query="'kubelet_running_pod_count{instance=~\'.*__NODENAME__.*\'}' | queryNodeName:this" units="'numeric'" limit="node.status.allocatable.pods | integerLimit"></co-sparkline-widget>
                </div>
                <div class="col-md-4">
                  <co-sparkline-widget heading="'Network In'" query="'instance:node_network_receive_bytes:rate:sum{instance=~\'.*__NODEIP__.*\'}' | queryNodeIp:this" units="'decimalBytes'"></co-sparkline-widget>
                </div>
                <div class="col-md-4">
                  <co-sparkline-widget heading="'Network Out'" query="'instance:node_network_transmit_bytes:rate:sum{instance=~\'.*__NODEIP__.*\'}' | queryNodeIp:this" units="'decimalBytes'"></co-sparkline-widget>
                </div>
                <div class="col-md-4">
                  <co-sparkline-widget heading="'Filesystem'" query="'instance:node_filesystem_usage:sum{instance=~\'.*__NODEIP__.*\'}' | queryNodeIp:this" units="'decimalBytes'"></co-sparkline-widget>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-xs-12">
            <dl>
              <dt>Node Name</dt>
              <dd ng-bind="node.metadata.name | emptyPlaceholder"></dd>
              <dt>Node ID</dt>
              <dd ng-bind="node.spec.externalID | emptyPlaceholder"></dd>
              <dt>Node Addresses</dt>
              <dd><co-node-ip-list addresses="node.status.addresses" compacted="compacted"></co-node-ip-list></dd>
              <dt>Node Labels</dt>
              <dd><co-label-list kind="node" expand="true" labels="node.metadata.labels"></co-label-list></dd>
              <dt>Created</dt>
              <dd><co-timestamp timestamp="{{node.metadata.creationTimestamp}}" /></dd>
            </dl>
          </div>

          <div class="col-md-6 col-xs-12">
            <dl>
              <dt>Kernel Version</dt>
              <dd ng-bind="node.status.nodeInfo.kernelVersion | emptyPlaceholder"></dd>
              <dt>Boot ID</dt>
              <dd ng-bind="node.status.nodeInfo.bootID | emptyPlaceholder"></dd>
              <dt>Container Runtime</dt>
              <dd ng-bind="node.status.nodeInfo.containerRuntimeVersion | emptyPlaceholder"></dd>
              <dt>Kubelet Version</dt>
              <dd ng-bind="node.status.nodeInfo.kubeletVersion | emptyPlaceholder"></dd>
              <dt>Kube-Proxy Version</dt>
              <dd ng-bind="node.status.nodeInfo.kubeProxyVersion | emptyPlaceholder"></dd>
            </dl>
          </div>
        </div>
      </div>

      <div class="co-m-pane__body">
        <div class="row">
          <div class="col-xs-12">
            <h1 class="co-section-title">Node Conditions</h1>
            <div class="co-table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Status</th>
                    <th>Reason</th>
                    <th>Updated</th>
                    <th>Changed</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="c in node.status.conditions">
                    <td ng-bind="c.type"></td>
                    <td ng-bind="c.status | emptyPlaceholder"></td>
                    <td ng-bind="c.reason | emptyPlaceholder"></td>
                    <td><co-timestamp timestamp="{{c.lastHeartbeatTime}}" /></td>
                    <td><co-timestamp timestamp="{{c.lastTransitionTime}}"/></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="co-loader-wrapper cos-tristate-show-loading">
          <co-loader></co-loader>
        </div>

        <cos-status-box class="cos-tristate-show-error">
          <div class="cos-error-title">Error Loading Node</div>
          <div class="cos-text-center">An error occurred during node retrieval. Please try again.</div>
        </cos-status-box>
      </div>
    </div>
  </div>
</div>
