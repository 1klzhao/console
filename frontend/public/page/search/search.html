<div class="co-p-search">

  <co-nav-title title="Search"></co-nav-title>

  <div class="co-m-pane">

    <div class="co-m-pane__body--bordered">
      <form ng-controller="SearchFormCtrl" ng-submit="submit()" name="form" role="form">
        <div class="form-group">
          <co-label-input
              autofocus="true"
              ng-model="fields.query"
              kind="{{fields.selectedKindId}}"></co-label-input>
        </div>
        <label class="control-label">Filter:</label>
        <div class="co-type-selector">
          <a href="#" ng-click="changeKind(kinds.SERVICE.id)">
            <input name="selectedKindId"
                ng-checked="fields.selectedKindId == kinds.SERVICE.id"
                type="radio"/>
            {{kinds.SERVICE.labelPlural}}
          </a>
          <a href="#" ng-click="changeKind(kinds.REPLICATIONCONTROLLER.id)">
            <input name="selectedKindId"
                ng-checked="fields.selectedKindId == kinds.REPLICATIONCONTROLLER.id"
                type="radio"/>
            {{kinds.REPLICATIONCONTROLLER.labelPlural}}
          </a>
          <a href="#" ng-click="changeKind(kinds.POD.id)">
            <input name="selectedKindId"
                ng-checked="fields.selectedKindId == kinds.POD.id"
                type="radio"/>
            {{kinds.POD.labelPlural}}
          </a>
        </div>
      </form>
    </div>

    <div class="co-m-pane__body">

      <div class="co-m-table-grid--bordered">
        <div class="row co-m-table-grid__head">
          <div class="col-sm-3">ID</div>
          <div class="col-sm-4">Labels</div>
        </div>
        <div class="row" ng-repeat="r in results track by r.metadata.uid">
          <div class="col-sm-3">
            <a ng-href="/{{getResourceLink(r)}}" ng-bind="r.metadata.name"></a>
          </div>
          <div class="col-sm-4">
            <co-label-list kind="{{fields.selectedKindId}}" labels="r.metadata.labels"></co-label-list>
          </div>
        </div>

        <div ng-show="!loading && !results" class="row">
          <div class="col-sm-12 co-m-notice">
            <div class="co-m-notice__title">
              Enter a label query to search the cluster
            </div>
            <div class="co-m-notice__message">
              Search results must match all label query conditions.
              Refine search results by creating more specific label queries.
            </div>
          </div>
        </div>
        <div ng-show="!loading && results && !results.length" class="row">
          <div class="col-sm-12 co-m-notice">
            <div class="co-m-notice__title">
              No items matched the label query
            </div>
            <div class="co-m-notice__message">
              Items in the cluster may have been modified by controllers, users, or other means.
            </div>
          </div>
        </div>
        <div ng-show="loading" class="row">
          <div class="col-sm-12 co-m-notice">
            <co-loader></co-loader>
          </div>
        </div>

      </div>

    </div><!-- pane body -->
  </div><!-- pane -->

</div>
