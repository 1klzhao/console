<div class="tec-plan-selector">
  <div class="tec-table-wrapper">
    <div class="row">
      <div class="col-sm-4 col-md-5 col-lg-5 cos-thin-label">Plan</div>
      <div class="col-sm-4 col-md-4 col-lg-4 cos-thin-label">Cost</div>
      <div class="col-sm-4 col-md-3 col-lg-3 cos-thin-label"></div>
    </div>
    <div ng-repeat="p in sortedPlans track by p.id"
         ng-class="{'tec-table-current-row': isSelected(p)}" class="tec-table-row-wrapper">
      <div class="row tec-table-body-row" ng-class="{'cos-highlight-row': isSelected(p)}">
        <div ng-bind="p.publicName" class="col-sm-4 col-md-5 col-lg-5 text-strong tec-table-cell"></div>
        <div class="col-sm-4 col-md-4 col-lg-4 tec-table-cell">
          <div ng-if="p.purchasable">
            <span ng-bind="getPrice(p) | price:p.currency"></span> / <span ng-bind="p.duration | duration:p.durationPeriod"></span>
          </div>
          <div ng-if="!p.purchasable" class="tec-contact-sales">Contact Sales</div>
        </div>
        <div class="col-sm-4 col-md-3 col-lg-3 tec-table-cell text-right">
          <div ng-if="!isSelected(p)">
            <button ng-if="p.purchasable" ng-click="selectPlan(p)" class="btn btn-default">Select Plan</button>
            <a ng-if="!p.purchasable" ng-href="{{contactSalesLink(p)}}" target="_blank">
              <button class="btn btn-default">Contact Sales</button>
            </a>
          </div>
          <div ng-if="isSelected(p)">
            <span class="tec-selected-plan__check ci-check"></span>
          </div>
        </div>
      </div>
      <div ng-class="{'tec-entitlement-list-description--visible': isSelected(p)}" class="tec-entitlement-list-description">
        <tec-entitlement-list pricing-components="p.pricingComponents"></tec-entitlement-list>
      </div>
    </div>
  </div>
</div>
