<div class="tec-p-signup-billing tec-no-title">

  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <tec-signup-progress active-index="vm.signupFlowIndex"></tec-signup-progress>
    </div>
  </div>

  <form ng-submit="vm.submit()" name="form" role="form">

  <div class="row">

    <div class="col-sm-4 col-sm-push-8">
      <tec-cart></tec-cart>
    </div>

    <div class="col-sm-8 col-sm-pull-4">
      <div class="cos-pane">

        <div class="tec-pane-section--spacious clearfix">
          <h4 class="tec-form-heading pull-left">Billing</h4>
        </div>

        <div class="tec-pane-section">
          <tec-address-form
             edit-address="vm.billingAddress"
             copy-address="vm.mailingAddress"
             title="Billing Address"></tec-address-form>
        </div>

        <div class="tec-pane-section--compact">
          <hr/>
        </div>

        <div ng-if="vm.total > 0">
          <div class="tec-pane-section--spacious">
            <h4 class="tec-form-heading">Payment</h4>
            <p class="text-muted text-small">
              You will be billed after any trial period ends. You can cancel anytime prior.
            </p>
          </div>
          <div class="tec-pane-section">
            <tec-payment-method-fields fields="vm.paymentFields"></tec-payment-method-fields>
          </div>
        </div>

        <div ng-if="vm.total == 0">
          <div class="tec-pane-section--spacious">
            <h4 class="tec-form-heading">Payment</h4>
            <p class="text-muted text-small">
              No payment required for free purchases.
            </p>
          </div>
        </div>

        <div class="tec-pane-section--compact">
          <hr/>
        </div>

        <div class="tec-pane-section--spacious text-center tec-button-footer">
          <div class="cos-error-box tec-margin-bottom" ng-show="vm.error" ng-bind="vm.error"></div>
          <button ng-disabled="vm.submitting" type="submit" class="btn btn-primary btn-lg">Next, Confirm Order</button>
          <div ng-show="vm.submitting" class="tec-loading-indicator">processing...</div>
        </div>

      </div>
    </div>

  </div>
  </form>

  <ng-include src="'/static/module/ui/signup-footer.html'"></ng-include>

</div>
