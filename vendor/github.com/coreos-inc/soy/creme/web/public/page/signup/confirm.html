<div class="tec-p-signup-confirm tec-no-title">

  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <tec-signup-progress active-index="vm.signupFlowIndex"></tec-signup-progress>
    </div>
  </div>

  <form ng-submit="vm.submit()" name="form" role="form">

  <div class="row">

    <div class="col-sm-4 col-sm-push-8">
      <tec-cart></tec-cart>
    </div>

    <div class="col-sm-8 col-sm-pull-4">
      <div class="cos-pane">

        <div class="tec-pane-section--spacious row">
          <div class="col-sm-6">
            <div class="tec-margin-bottom">
              <div>
                <h4 class="tec-form-heading tec-confirm-title">Mailing Address</h4>
                <a class="tec-edit-link tec-margin-left" ng-click="vm.openMailingAddressModal()">Edit</a>
              </div>
              <div>
                <tec-address-view address="vm.mailingAddress"></tec-address-view>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="tec-margin-bottom">
              <div>
                <h4 class="tec-form-heading tec-confirm-title">Your Contact Info</h4>
                <a class="tec-edit-link tec-margin-left" ng-click="vm.openProfileModal()">Edit</a>
              </div>
              <tec-contact-view profile="vm.account.profile"></tec-contact-view>
            </div>
          </div>
        </div>

        <div class="tec-pane-section--compact">
          <hr/>
        </div>

        <div class="tec-pane-section--spacious row">
          <div class="col-sm-6">
            <div class="tec-margin-bottom">
              <div>
                <h4 class="tec-form-heading tec-confirm-title">Billing Address</h4>
                <a class="tec-edit-link tec-margin-left" ng-click="vm.openBillingAddressModal()">Edit</a>
              </div>
              <div>
                <tec-address-view address="vm.billingAddress"></tec-address-view>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="tec-margin-bottom">
              <div>
                <h4 class="tec-form-heading tec-confirm-title">Payment</h4>
                <a ng-if="vm.showPaymentMethodEdit()"
                    class="tec-edit-link tec-margin-left"
                    ng-click="vm.openPaymentMethodModal()">Convert to Credit Card Billing</a>
                <a ng-if="vm.showCreditCardEdit()"
                    class="tec-edit-link tec-margin-left"
                    ng-click="vm.openCardModal()">Edit</a>
              </div>
              <div ng-if="vm.total != 0">
                <div ng-if="vm.paymentMethod == 'credit-card'">
                  <tec-card-view card="vm.creditCard"></tec-card-view>
                </div>
                <div ng-if="vm.paymentMethod == 'purchase-order'">
                  <span>Purchase Order Payment - A salesperson will be in touch with you soon. You can call us at (800) 774-3507 or email <a href="mailto:sales@tectonic.com">sales@tectonic.com</a></span>
                </div>
              </div>
              <div ng-if="vm.total == 0">
                <span>No payment required</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tec-pane-section--compact">
          <hr/>
        </div>

        <div class="tec-pane-section--spacious">
          <div class="checkbox tec-no-margin-top">
            <label>
              <input type="checkbox" ng-model="vm.agreedTOS" />
              I agree to the <a target="_blank" ng-href="{{vm.getTOSLink()}}">Terms of Service</a>
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" ng-model="vm.prefs.changelogEmail" />
              Receive change logs and update instructions via email
            </label>
          </div>
          <div class="checkbox tec-no-margin-bottom">
            <label>
              <input type="checkbox" ng-model="vm.prefs.newsletterEmail" />
              Receive general newsletter via email
            </label>
          </div>
        </div>

        <div class="tec-pane-section--compact">
          <hr/>
        </div>

        <div class="tec-button-footer tec-pane-section--spacious text-center">
          <div class="cos-error-box tec-margin-bottom" ng-show="vm.error" ng-bind="vm.error"></div>
          <button type="submit" ng-disabled="!vm.agreedTOS || vm.submitting" class="btn btn-primary btn-lg tec-disabled-tooltip" data-disabled-tooltip="To continue you must agree to the Terms of Service">Complete Purchase</button>
          <div ng-show="vm.submitting" class="tec-loading-indicator">processing...</div>
          <div ng-if="vm.chargedImmediately">
            <div class="text-small text-muted tec-margin-top">Credit card purchases will be charged immediately.</div>
          </div>
        </div>

      </div>
    </div>

  </div>
  </form>

  <ng-include src="'/static/module/ui/signup-footer.html'"></ng-include>

</div>
