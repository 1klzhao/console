apiVersion: v1
kind: ReplicationController
metadata:
  namespace: coreupdate
  name: coreupdate-app
  labels:
    coreupdate-component: app
spec:
  replicas: 1
  selector:
    coreupdate-component: app
  template:
    metadata:
      labels:
        coreupdate-component: app
    spec:
      imagePullSecrets:
      - name: coreupdate-pull-secret
      volumes:
      - name: config
        secret:
          secretName: coreupdate-config-secret
      containers:
      - name: coreupdate
        image: quay.io/coreos/coreupdate:0525e11a36f5a888b67712f5c9cd5ff1eba525df
        env:
        - name: ROLLER_CONFIG
          value: /etc/coreupdate/config
        ports:
        - containerPort: 8000
          name: web
        volumeMounts:
        - name: config
          readOnly: true
          mountPath: /etc/coreupdate
